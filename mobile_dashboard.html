<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“± Mobile SEO Bot</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            min-height: 100vh;
            padding: 10px;
        }
        
        .container { max-width: 400px; margin: 0 auto; }
        
        .header {
            text-align: center;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .header h1 { font-size: 1.5em; margin-bottom: 5px; }
        .header p { font-size: 0.9em; opacity: 0.8; }
        
        .card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .form-group { margin-bottom: 15px; }
        .form-group label { 
            display: block; 
            margin-bottom: 5px; 
            font-weight: 600;
            font-size: 0.9em;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 10px;
            color: #fff;
            font-size: 16px;
        }
        .form-group input::placeholder, .form-group textarea::placeholder {
            color: rgba(255,255,255,0.7);
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            transition: all 0.3s;
        }
        .btn-start { background: #4CAF50; color: white; }
        .btn-stop { background: #f44336; color: white; }
        .btn-start:active { background: #45a049; }
        .btn-stop:active { background: #da190b; }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        .stat-card {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-card .number { font-size: 1.5em; font-weight: bold; }
        .stat-card .label { font-size: 0.8em; opacity: 0.8; }
        
        .status {
            text-align: center;
            padding: 10px;
            border-radius: 10px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .status.running { background: #4CAF50; }
        .status.stopped { background: #f44336; }
        
        .logs {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.8em;
        }
        .log-entry {
            padding: 2px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .log-success { color: #4CAF50; }
        .log-error { color: #f44336; }
        .log-info { color: #2196F3; }
        
        .ip-display {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 10px;
            text-align: center;
            font-family: monospace;
            margin-bottom: 15px;
        }
        
        .warning {
            background: rgba(255,193,7,0.2);
            border: 1px solid rgba(255,193,7,0.5);
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“± Mobile SEO Bot</h1>
            <p>HTTP-Only â€¢ SÄ±ralÄ± Ä°ÅŸlem â€¢ Her Ziyarette IP DeÄŸiÅŸimi</p>
        </div>

        <div class="status stopped" id="status">DURDURULDU</div>
        
        <div class="ip-display">
            <strong>Mevcut IP:</strong> <span id="currentIP">Bilinmiyor</span>
        </div>
        
        <div class="warning">
            âš ï¸ <strong>SÄ±ralÄ± Ä°ÅŸlem:</strong> Her ziyaret Ã¶ncesinde IP deÄŸiÅŸir, ziyaret tamamlanÄ±nca bir sonrakine geÃ§er.
        </div>

        <div class="card">
            <div class="form-group">
                <label>ğŸ¯ Hedef Website:</label>
                <input type="url" id="targetUrl" placeholder="https://example.com" value="https://fedaiforklift.com">
            </div>
            
            <div class="form-group">
                <label>ğŸ” Anahtar Kelimeler:</label>
                <textarea id="keywords" rows="3" placeholder="kayseri forklift kiralama&#10;forklift kiralama&#10;iÅŸ makinesi">kayseri forklift kiralama
forklift kiralama
iÅŸ makinesi kiralama</textarea>
            </div>
            
            <div class="form-group">
                <label>ğŸš€ Dakikada Ziyaret:</label>
                <select id="visitsPerMinute">
                    <option value="5">5 (Ã‡ok GÃ¼venli)</option>
                    <option value="10" selected>10 (GÃ¼venli)</option>
                    <option value="15">15 (Orta)</option>
                    <option value="20">20 (HÄ±zlÄ±)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>ğŸ”„ IP DeÄŸiÅŸtirme:</label>
                <select id="ipRotation" disabled>
                    <option value="1" selected>Her ziyarette (Otomatik)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>ğŸ¯ Toplam Limit:</label>
                <input type="number" id="totalLimit" placeholder="0 = SÄ±nÄ±rsÄ±z" value="0">
            </div>
        </div>

        <button class="btn btn-start" onclick="startBot()">â–¶ï¸ Botu BaÅŸlat</button>
        <button class="btn btn-stop" onclick="stopBot()">â¹ï¸ Botu Durdur</button>

        <div class="stats">
            <div class="stat-card">
                <div class="number" id="totalVisits">0</div>
                <div class="label">Toplam</div>
            </div>
            <div class="stat-card">
                <div class="number" id="successVisits">0</div>
                <div class="label">BaÅŸarÄ±lÄ±</div>
            </div>
            <div class="stat-card">
                <div class="number" id="errorVisits">0</div>
                <div class="label">Hata</div>
            </div>
            <div class="stat-card">
                <div class="number" id="successRate">0%</div>
                <div class="label">BaÅŸarÄ±</div>
            </div>
        </div>

        <div class="card">
            <h3 style="margin-bottom: 10px;">ğŸ“‹ Bot LoglarÄ±</h3>
            <div class="logs" id="logContainer"></div>
        </div>
    </div>

    <script>
        let botRunning = false;
        let stats = { totalVisits: 0, successVisits: 0, errorVisits: 0 };
        let ws = null;

        function addLog(message, type = 'info', ip = null) {
            const logContainer = document.getElementById('logContainer');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            const ipInfo = ip ? ` [${ip}]` : '';
            logEntry.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}${ipInfo}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function updateStats() {
            document.getElementById('totalVisits').textContent = stats.totalVisits;
            document.getElementById('successVisits').textContent = stats.successVisits;
            document.getElementById('errorVisits').textContent = stats.errorVisits;
            
            const successRate = stats.totalVisits > 0 ? 
                ((stats.successVisits / stats.totalVisits) * 100).toFixed(1) : 0;
            document.getElementById('successRate').textContent = successRate + '%';
        }

        function connectToBot() {
            try {
                ws = new WebSocket('ws://localhost:8090');
                
                ws.onopen = () => {
                    addLog('âœ… Bot baÄŸlantÄ±sÄ± kuruldu', 'success');
                };
                
                ws.onmessage = (event) => {
                    const data = JSON.parse(event.data);
                    if (data.type === 'stats') {
                        stats.totalVisits = data.data.visitCount || 0;
                        stats.successVisits = data.data.successCount || 0;
                        stats.errorVisits = data.data.errorCount || 0;
                        updateStats();
                        
                        if (data.data.botRunning) {
                            document.getElementById('status').textContent = 'Ã‡ALIÅIYOR';
                            document.getElementById('status').className = 'status running';
                        } else {
                            document.getElementById('status').textContent = 'DURDURULDU';
                            document.getElementById('status').className = 'status stopped';
                        }
                    } else if (data.type === 'log') {
                        addLog(data.message, data.logType, data.ip);
                        
                        if (data.ip && data.ip !== 'Unknown') {
                            document.getElementById('currentIP').textContent = data.ip;
                        }
                    }
                };
                
                ws.onclose = () => {
                    addLog('âŒ Bot baÄŸlantÄ±sÄ± kesildi', 'error');
                    setTimeout(connectToBot, 3000);
                };
                
            } catch (error) {
                addLog(`âŒ BaÄŸlantÄ± hatasÄ±: ${error.message}`, 'error');
            }
        }

        function startBot() {
            const targetUrl = document.getElementById('targetUrl').value;
            const keywords = document.getElementById('keywords').value.split('\n').filter(k => k.trim());
            const visitsPerMinute = parseInt(document.getElementById('visitsPerMinute').value);
            const ipRotation = parseInt(document.getElementById('ipRotation').value);
            const totalLimit = parseInt(document.getElementById('totalLimit').value) || 0;
            
            if (!targetUrl || keywords.length === 0) {
                alert('LÃ¼tfen hedef URL ve anahtar kelimeleri girin!');
                return;
            }
            
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({
                    action: 'config',
                    targetUrl: targetUrl,
                    keywords: keywords,
                    visitsPerMinute: visitsPerMinute,
                    ipRotation: ipRotation,
                    totalVisitLimit: totalLimit,
                    botType: 'mobile',
                    trafficMode: 'google'
                }));
                
                ws.send(JSON.stringify({ action: 'start' }));
                
                addLog(`ğŸ“± Mobile SEO Bot baÅŸlatÄ±ldÄ± (SÄ±ralÄ±)`, 'success');
                addLog(`ğŸ¯ Hedef: ${targetUrl}`, 'info');
                addLog(`ğŸ” ${keywords.length} anahtar kelime`, 'info');
                addLog(`ğŸš€ HÄ±z: ${visitsPerMinute}/dakika`, 'info');
                addLog(`ğŸ”„ IP deÄŸiÅŸtirme: Her ${ipRotation} ziyaret`, 'info');
                addLog(`ğŸ“± HTTP-Only mod aktif`, 'info');
            } else {
                alert('Bot baÄŸlantÄ±sÄ± yok! mobile_bot.js Ã§alÄ±ÅŸtÄ±rÄ±n.');
            }
        }

        function stopBot() {
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({ action: 'stop' }));
                addLog('â¹ï¸ Bot durduruldu', 'error');
            }
        }

        // Initialize
        updateStats();
        connectToBot();
        addLog('ğŸ“± Mobile SEO Bot Dashboard hazÄ±r', 'success');
        addLog('ğŸ”„ SÄ±ralÄ± iÅŸlem modu - Her ziyaret tamamlanmadan sonrakine geÃ§mez', 'info');
        addLog('ğŸ“± Bot baÄŸlantÄ±sÄ± kuruluyor...', 'info');
    </script>
</body>
</html>